<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/AddStudent.css">
    <link rel="icon" href="https://docs.google.com/uc?id=1T2q0QcgrB5lJ6wqd-jYW4HAWr5YeXasA">
    <script src="https://kit.fontawesome.com/59d8afb937.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&family=Ubuntu:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/manageTest.css">
    <title>Test Management</title>
    
</head>

<body>
    <div class="section1">
        <div class=" quess">
            <div class="q1">
              <i class="fa-solid fa-list-check i1" style="margin-left:25%;"></i>
                <p class="head1" style="align-items: center; margin-top:15%;">Manage Tests </p>
            </div>

        </div>
        <div class=" anss">

            <a href="/"> <p style="margin-left:84%; margin-top: 2%;margin-right:5%; color: #4005ad; font-size:1.2rem;">Dashboard</p></a>


            <div id="ipDetails" class="form3" style="margin-left: 15%;">
                <h1 class="display-3" style="color: #4005ad;">Assign Assessments</h1>
                <br>

                <div id="Idname" style="visibility: hidden;margin-top: -10%;">
                  
                  <hr>
                </div>

                <br>
                <div id="showinput"></div>
                <hr>
                <div class="container box" style=" background-color:#efe8fc; ">
                  <div class="row">
                    <form action="/add_test" method="post" >
                        <div class="form-group" style="margin-left:50px; float:left;  width: 24%">
                            <label class="col-form-label" for="inputDefault">Enter Teacher ID:</label>
                            <input class="form-control" id="newat" name="at" placeholder="Assign Teachers" type="text" size="35">
                        </div>
                        <div class="form-group" style="margin-left:50px; float:left;  width: 40%">
                            <label class="col-form-label" for="inputDefault">Enter Test Link</label>
                            <input class="form-control" id="newbt" name="bt" placeholder="Paste Test Link" type="text" size="35">
                            <input hidden id="newct" name="ct" type="text" >
                            <input type="text" hidden value="" id="hid" name="list">
                            <input type="text" hidden value="<%= idd %>" id="hid1" name="tid">
                        </div>
                    
                    
                    <!-- <button type="button" class="btn btn-primary" style="margin-left: 55%;margin-top:5%; border:none;background-color: #22663b; font-size: 1rem; padding:1.3%; padding-left:3.2%;padding-right:3.2%" >Export to CSV</button> -->
                    <button type="button" class="btn btn-primary" style="margin-left: 55%;margin-top:5%; border:none;background-color: #4005ad; font-size: 1.2rem; padding:1%; padding-left:3.2%;padding-right:3.2%" onclick="abcd()">Add</button>

                    <button type="submit" class="btn btn-primary" style="margin-left: 5%;margin-top:5%; border:none;background-color: #4005ad; font-size: 1rem; padding:1.3%; padding-left:3.2%;padding-right:3.2%" onclick="saveChanges()">Save Changes</button>
                    </form>
                      
                  </div>
                  <br>
                  
                </div>

            </div>
            <!-- <h1 class="display-3" style="color: #4005ad; font-size:3rem; margin-left:5%; margin-top:4%;" >Earlier Assigned</h1>           
               -->
            <div id="Idname" style="margin-top: 4.5%;">
              <table style="width:80%; margin-left:6%; ">
                <tr>
                  <th style="padding-left:5%; width:20%;">S.No</th>
                  <th style="padding-left:0%; width:20%;">Teacher ID</th>
                  <th style="padding-left:11%;">Test Link</th>
                  <th style="padding-left:5%;">Date Alloted</th>
                </tr>
                </table>
                <hr style="margin-left:5%;">
        
                <table class="tableSpacing " style="margin-left:4%;">
                <% var i=1; %>
                <% p.forEach(pp=>{ %>
                    <tr >
                        <td style="padding-left:4%;"><input type="text" value="<%= i%>." disabled class="test-item1"></td>
                        <% i= i+1; %>
                        <td><input type="text" value="<%= pp.ll %>" disabled class="test-item5"></td>
                        <td><input type="text" value="<%= pp.l %>" disabled class="test-item2"></td>
                        <td><input type="text" value="<%= pp.time %>" disabled class="test-item3"></td>
                        <td style="padding-left:8%;">
                          <form action="/delete_link" method="post">
                          <input type="text" name="off_id" value="<%= idd %>" hidden>
                          <input type="text" name="link" value="<%= pp.l %>" hidden>
                          <button  class="btn btn-warning test-item4" type="submit">Delete</button>
                          </form>
                        </td>
                    </tr>
                    
                    
               <% }) %>
              </table>
              
            </div>
        </div>
        
    </div>

    

    <script>
      document.getElementById("hid1").value="";
      const urlParams = new URLSearchParams(window.location.search);
      const greetingValue = urlParams.get('officalID');
      console.log(greetingValue);
      function abcd(){
        if(document.getElementById("hid1").value===""){
          document.getElementById("hid1").value=greetingValue;
        }
        addToList();
      }
    </script>
    <script src="css/add_test_link.js"></script>

</body>

</html>
